/* --- Responsive foundation & design tokens ------------------------------ */
:root {
    /* fluid spacing and radii */
    --space-1: clamp(0.25rem, 0.5vw, 0.5rem);
    --space-2: clamp(0.5rem, 0.8vw, 0.75rem);
    --space-3: clamp(0.75rem, 1vw, 1rem);
    --space-4: clamp(1rem, 1.5vw, 1.5rem);
    --space-6: clamp(1.25rem, 2vw, 2rem);
    --radius-s: 4px;
    --radius-m: 8px;
    --radius-l: 16px;

    /* fluid typography scale */
    --fs-xs: clamp(0.75rem, 1vw, 0.875rem);
    --fs-sm: clamp(0.5rem, 1.2vw, 1rem);
    --fs-md: clamp(0.75rem, 1.6vw, 1.125rem);
    --fs-lg: clamp(1.25rem, 2vw, 1.5rem);
    --fs-xl: clamp(1rem, 3vw, 2.25rem);
    --fs-xxl: clamp(2.25rem, 4vw, 3rem);

    --left_panel_width: 60vw;

    --font-main: "Roboto", sans-serif;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

/* predictable sizing */
html,
body {
    height: 100%;
}

body {
    margin: 0;
    padding: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.dashboard,
.dashboard * {
    box-sizing: border-box;
}

.dashboard {
    background: #f1f1f1;
    padding: var(--space-6);
    display: flex;
    flex-direction: row;
    gap: var(--space-6);
    align-items: flex-start;
    justify-content: flex-start;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

.left-panel {
    display: flex;
    flex-direction: column;
    gap: 0px;
    align-items: stretch;
    justify-content: flex-start;
    align-self: stretch;
    flex-shrink: 0;
    width: var(--left_panel_width);
    position: relative;
    overflow: hidden;
}

.toggles-bar-chart {
    display: flex;
    flex-direction: row;
    gap: var(--space-6);
    /* make the row fill its parent vertically */
    align-items: stretch;
    /* ensure children may stretch vertically */
    height: 50%;
    /* avoid “auto” min-height blocking shrink */
    position: relative;
    overflow: visible;
}

.toggles-area {
    display: flex;
    flex-direction: column;
    /* let this column fill the row height and participate in flex sizing */
    flex: 1 1 auto;
    align-self: stretch;
    width: 40%;
    position: relative;

}

.title {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    align-items: center;
    justify-content: center;
    align-self: stretch;
    flex: 1;
    height: 20%;
    position: relative;
}

.mental-health {
    color: #000000;
    text-align: center;
    font-family: var(--font-main);
    font-weight: 500;
    font-size: var(--fs-xl);
    position: relative;
}

.toggles {
    background: #ffffff;
    border-radius: var(--radius-l) var(--radius-l) 0px 0px;
    padding: var(--space-4) var(--space-4) 0 var(--space-4);
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    align-items: stretch;
    justify-content: start;
    align-self: stretch;
    height: 80%;
    position: relative;
}

.selected-ctrs {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: stretch;
    justify-content: flex-start;
    align-self: stretch;
    flex-shrink: 0;
    position: relative;
}

.toggles-label {
    color: #000000;
    text-align: left;
    font-family: var(--font-main);
    font-size: var(--fs-md);
    font-weight: 600;
    position: relative;
    align-self: stretch;
}

.ctrs-label-area {
    display: flex;
    flex-direction: row;
    gap: var(--space-4);
    align-items: stretch;
    justify-content: stretch;
    position: relative;
}

.ctry-and-trash-icon {
    display: flex;
    flex-direction: row;
    gap: var(--space-2);
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    position: relative;
}

.ctry {
    border-radius: var(--radius-m);
    padding: var(--space-1);
    flex-shrink: 0;
    width: auto;
    justify-content: center;
    position: relative;
}

.ctry-1-bg { background: #66d575;}

.ctry-2-bg { background: #8266d5;}

.ctry-name {
    color: #ffffff;
    text-align: left;
    font-family: var(--font-main);
    font-size: var(--fs-sm);
    line-height: 150%;
    font-weight: 500;
    position: relative;
    width: auto;
}

.trash {
    width: var(--fs-lg);
    height: auto;
    display: flex;
    position: relative;
    overflow: visible;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    padding: var(--space-1);
}

.trash_svg {
    width: var(--fs-md);
    display: flex;  
    position: relative;
}

.metric-selector {
    display: flex;
    height: auto;
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-1);
    flex-shrink: 0;
    align-self: stretch;
}

.dropdown-metric-area {
    width: 100%;
    font-family: var(--font-main);
    font-size: var(--fs-sm);
}

.map-detail {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    align-items: flex-start;
    justify-content: flex-start;
    align-self: stretch;
    flex-shrink: 0;
    position: relative;
}

.map-detail2 {
    color: var(--333333-dark-grey, #333333);
    text-align: left;
    font-family: var(--font-main);
    font-size: var(--fs-sm);
    font-weight: 600;
    position: relative;
}

.detail-picker {
    display: flex;
    flex-direction: row;
    gap: var(--space-1);
    align-items: flex-end;
    justify-content: flex-start;
    align-self: stretch;
    flex-shrink: 0;
    position: relative;
}

.trailing-accessories {
    display: flex;
    flex-direction: row;
    gap: 11.11px;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
    position: relative;
}

.label {
    color: var(--labels-secondary, rgba(0, 0, 0, 0.5));
    text-align: center;
    font-family: var(--font-main);
    font-size: var(--fs-sm);
    position: relative;
}

.push-button {
    border-radius: 8.34px;
    padding: 0px var(--button-padding-horizontal, 22.22px) 0px var(--button-padding-horizontal, 22.22px);
    display: flex;
    flex-direction: column;
    gap: 0px;
    align-items: flex-end;
    justify-content: center;
    flex-shrink: 0;
    height: auto;
    position: relative;
    overflow: hidden;
}

.bg {
    flex-shrink: 0;
    position: absolute;
    right: 0.45px;
    left: 0px;
    bottom: 0.33px;
    top: 0px;
}

.black {
    background: #000000;
    opacity: 0.05;
    position: absolute;
    right: 0px;
    left: 0px;
    bottom: 0px;
    top: 0px;
    overflow: hidden;
}

.label2 {
    color: var(--labels-vibrant-use-plus-lighter-or-darker-primary, #4c4c4c);
    text-align: center;
    font-family: var(--font-main);
    font-size: 18.079193115234375px;
    line-height: 22.22px;
    font-weight: 500;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    mix-blend-mode: plus-darker;
}

.stacked-bar-chart-area {
    padding: 0 0 var(--space-6) 0;
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-width: 0;
    width: 60%;
    position: relative;
}

.stacked-bar-chart {
    background: #ffffff;
    border-radius: var(--radius-s);
    border-style: solid;
    border-color: #d4d4d4;
    border-width: 2px;
    width: 100%;
    height: 100%;
}

.choropleth-area-bg {
    background: #ffffff;
    border-radius: 0px var(--radius-m) var(--radius-m) var(--radius-m);
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: center;
    align-self: stretch;
    position: relative;
    overflow: hidden;
    height: 50%;
}

.choropleth {
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
}


/* Full-screen backdrop */
.popup-backdrop {
  position: fixed; inset: 0; 
  background: rgba(0,0,0,.45);
  display: none;                 /* hidden by default */
  align-items: center; justify-content: center;
  z-index: 1000;
}

/* Show it when active */
.popup-backdrop.is-open { display: flex; }

/* The actual dialog */
.popup {
  background: #fff;
  color: #222;
  border-radius: 12px;
  padding: 20px 24px;
  min-width: 320px;
  box-shadow: 0 8px 40px rgba(0,0,0,.18);
}

.right-panel {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: space-between;
    align-self: stretch;
    flex: 1;
    position: relative;
    overflow: hidden;
}

.butterfly-chart-area {
    padding: 0px 0px var(--space-6) 0px;
    display: flex;
    position: relative;
    height: 50%;
}

.butterfly-chart {
    background: #ffffff;
    border-radius: var(--radius-s);
    border-style: solid;
    border-color: #d4d4d4;
    border-width: 2px;
    width: 100%;
    height: 100%;
}

.radar {
    background: #ffffff;
    border-radius: var(--radius-s);
    border-style: solid;
    border-color: #d4d4d4;
    border-width: 2px;
    display: flex;
    flex-direction: column;
    align-self: stretch;
    overflow: hidden;
    height: 50%;
}